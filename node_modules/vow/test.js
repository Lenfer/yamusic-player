var Vow = require('./lib/vow'),
    Q = require('q');

var a = Q.defer(),
    b = Q.defer();

var c = b.promise.then(function(val) {
    return a.promise;
});

c.progress(function(v) {
    console.log(v);
});

b.resolve('ok');
b.promise.then(function() {
    setTimeout(function() {
        a.notify('10%');
    }, 30);
});

a = Vow.promise(),
b = Vow.promise();

var c = b.then(function(val) {
    return a;
});

c.progress(function(v) {
    console.log(v);
});

b.fulfill('ok');
b.then(function() {
    a.notify('10%');
})