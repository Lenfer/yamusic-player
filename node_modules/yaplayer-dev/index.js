var win = null;
var ipc = require('ipc');

function hotkeyForDevTools() {
	// On client message toggle dev tools
	ipc.on('dev:toggledevtools', function() {
		win.toggleDevTools();
	});
	// Bind local key shortcut
	var bindKeyDownEvent = function() {
		var ipc = require('ipc');
		$('body').keydown(function(event) {
			if (event.ctrlKey && event.keyCode === 192) {
				ipc.send('dev:toggledevtools');
			}
		});
	};
	// Exec in client scope
	win.webContents.executeJavaScript('(' + bindKeyDownEvent.toString() + ')();');
}

module.exports = function(winInstance) {
	win = winInstance;
	hotkeyForDevTools();
	if (process.argv.indexOf('--dev') >= 0) {
		win.openDevTools();
	}
};

